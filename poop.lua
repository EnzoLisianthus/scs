-- 완전 GUI Poop Request 스크립트 -- LocalScript로 StarterPlayerScripts나 StarterGui에 넣으세요 local Players = game:GetService("Players") local ReplicatedStorage = game:GetService("ReplicatedStorage") local RunService = game:GetService("RunService") local LocalPlayer = Players.LocalPlayer local PoopEvent = ReplicatedStorage:WaitForChild("PoopEvent") local PoopChargeStart = ReplicatedStorage:WaitForChild("PoopChargeStart") local PoopModels = ReplicatedStorage:WaitForChild("PoopModels") -- 로컬 상태 local CurrentPreview local RenderConnection -- GUI 생성 local ScreenGui = Instance.new("ScreenGui") ScreenGui.Name = "PoopGUI" ScreenGui.ResetOnSpawn = false ScreenGui.Parent = LocalPlayer:WaitForChild("PlayerGui") local Frame = Instance.new("Frame") Frame.Size = UDim2.new(0,300,0,400) Frame.Position = UDim2.new(0,20,0,50) Frame.BackgroundColor3 = Color3.fromRGB(40,40,40) Frame.BorderSizePixel = 0 Frame.Parent = ScreenGui local UIListLayout = Instance.new("UIListLayout") UIListLayout.Padding = UDim.new(0,5) UIListLayout.Parent = Frame -- Rainbow 색상 회전 local function Rainbowify(model) local hue = 0 RenderConnection = RunService.RenderStepped:Connect(function() if not model then RenderConnection:Disconnect() return end hue = (hue + 0.005) % 1 for _, v in ipairs(model:GetDescendants()) do if v:IsA("BasePart") then v.Color = Color3.fromHSV(hue,1,1) end end end) end -- 기존 preview 제거 local function CleanupPreview() if CurrentPreview then CurrentPreview:Destroy() CurrentPreview = nil end if RenderConnection then RenderConnection:Disconnect() RenderConnection = nil end end -- Poop 서버 요청 + preview 생성 local function SendPoopRequest(PoopName, Rarity) CleanupPreview() PoopEvent:FireServer(PoopName) local Char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait() local ModelTemplate = PoopModels:FindFirstChild(PoopName) if not ModelTemplate then warn("Poop 모델이 없습니다:", PoopName) return end CurrentPreview = ModelTemplate:Clone() CurrentPreview.Name = "PoopPreview" CurrentPreview:SetAttribute("Rarity", Rarity or "Normal") CurrentPreview.Parent = workspace -- Rainbow/Toxic 처리 if Rarity == "Rainbow" then for _, part in ipairs(CurrentPreview:GetDescendants()) do if part:IsA("BasePart") then part.Material = Enum.Material.Neon end end Rainbowify(CurrentPreview) elseif Rarity == "Toxic" then for _, part in ipairs(CurrentPreview:GetDescendants()) do if part:IsA("BasePart") then part.Material = Enum.Material.Neon part.Color = Color3.fromRGB(115,255,60) end end end end -- PoopModels 안의 모든 모델에 대해 버튼 생성 for _, Poop in ipairs(PoopModels:GetChildren()) do local Button = Instance.new("TextButton") Button.Size = UDim2.new(1,0,0,40) Button.Text = Poop.Name Button.BackgroundColor3 = Color3.fromRGB(70,70,70) Button.TextColor3 = Color3.fromRGB(255,255,255) Button.BorderSizePixel = 0 Button.Parent = Frame Button.MouseButton1Click:Connect(function() game:GetService("ReplicatedStorage"):WaitForChild("PoopChargeStart"):FireServer() -- Rainbow/Toxic/Normal 예제: 이름에 따라 자동 설정 local Rarity = "Normal" if Poop.Name:find("Cosmic") then Rarity = "Rainbow" elseif Poop.Name:find("Moisty") then Rarity = "Toxic" end SendPoopRequest(Poop.Name,Rarity) end) end